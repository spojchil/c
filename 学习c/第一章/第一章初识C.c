/*2025 5 2 
从头开始学习
之前的太杂乱没有结构性
*/

/*
可移植
不同CPU制造商使用的系统指令不同

C编程的策略 程序把源代码文件转换为可执行文件
可执行文件包含可直接运行的机器语言代码

C实现通过编译和链接两个步骤完成这一过程
编译器把源代码转换为中间代码
链接器把中间代码和其他代码合并，生成可执行文件

*/

/*
C编程的基本策略​​
目标是将​​源代码文件​​（如.c文件）转换为​​可执行文件​​（如Windows的.exe或Linux的无后缀文件），
其中包含可直接运行的机器语言代码。这一过程通过​​编译​​和​​链接​​两步完成。

​​1. 编译阶段​​
​​编译器​​（如gcc）将源代码（如main.c）转换为​​中间代码​​（通常是机器语言代码）。
输出文件为​​目标文件​​（.o或.obj），包含：
编译后的机器指令
未解析的外部引用（如调用的库函数）
​​关键限制​​：目标文件​​无法直接运行​​，因为它缺少​​启动代码​​和完整的依赖项。
​​2. 链接阶段​​
​​链接器​​（如ld）将目标文件与其他代码（如库文件、其他目标文件）合并，生成最终的可执行文件。
主要功能包括：
补充​​启动代码​​（程序与操作系统的接口，负责初始化环境）。
解析外部依赖（例如合并printf的库代码）。
优化内存地址分配。
​​模块化编程的优势​​
​​分而治之​​：可单独编译每个模块（如utils.c、main.c），再通过链接器合并。
​​增量编译​​：修改某模块后，只需重新编译该模块，无需全部重新编译，提升效率。
​​跨系统兼容性​​
相同硬件（如x86 CPU）下，不同操作系统（如Windows/Linux）的目标代码可能相同，
但​​启动代码和库依赖不同​​，因此需要分别链接生成系统专属的可执行文件。
*/

/*
​​1.12 复习题参考答案​​
​​1. 对编程而言，可移植性意味着什么？​​
​​答​​：可移植性指编写的程序无需修改或仅需少量修改，即可在不同操作系统或硬件平台上编译和运行。C语言因其接近底层但独立于硬件的特性，具有较高的可移植性。
​​关键点​​：代码的跨平台兼容性。

​​2. 源代码文件、目标代码文件和可执行文件的区别​​
​​源代码文件​​：程序员编写的文本文件（如.c文件），包含人类可读的代码。
​​目标代码文件​​：编译器将源代码转换成的机器代码文件（如.obj或.o文件），但未完成最终链接。
​​可执行文件​​：链接器将目标代码与库文件合并后生成的文件（如.exe），可直接由操作系统运行。
​​关键点​​：三者是程序从编写到运行的不同阶段产物。

​​3. 编程的7个主要步骤​​
​​定义问题​​：明确程序需解决的问题。
​​设计程序​​：规划算法、数据结构等。
​​编写代码​​：用编程语言实现设计。
​​编译​​：将源代码转换为目标代码。
​​链接​​：合并目标代码和库文件生成可执行文件。
​​测试​​：验证程序功能是否正确。
​​维护​​：修复问题或更新需求。
​​关键点​​：从问题分析到维护的完整生命周期。

​​4. 编译器的任务​​
​​答​​：将源代码翻译成目标代码（机器语言或汇编语言），同时检查语法错误和部分逻辑错误。
​​关键点​​：翻译与语法检查。

​​5. 链接器的任务​​
​​答​​：将多个目标代码文件及库文件合并为一个可执行文件，解决外部引用（如函数调用）的地址问题。
​​关键点​​：整合代码并解析依赖关系。


*/